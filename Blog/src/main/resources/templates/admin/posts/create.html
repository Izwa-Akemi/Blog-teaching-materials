<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>記事作成</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 min-h-screen">
	<!-- 上部ナビバー -->
	<!-- 共通ヘッダー -->
		<div th:replace="admin/layout/header :: adminHeader(${currentUser})"></div>
<div class="max-w-3xl mx-auto py-10">

    <!-- タイトル -->
    <h1 class="text-3xl font-bold text-gray-800 mb-6">
        ✏️ 新しいブログ記事を作成
    </h1>

    <!-- カード -->
    <div class="bg-white shadow-lg rounded-xl p-8 border border-gray-200">

        <form th:action="@{/admin/posts/create}" method="post" th:object="${postForm}" enctype="multipart/form-data" class="space-y-6">

            <!-- タイトル -->
            <div>
                <label class="font-semibold text-gray-700">記事タイトル</label>
                <input type="text" th:field="*{title}"
                       class="w-full mt-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"
                       placeholder="例：Spring Bootでブログを作る方法">

                <p class="text-red-500 text-sm" th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></p>
            </div>

            <!-- カテゴリー -->
            <div>
                <label class="font-semibold text-gray-700">カテゴリー</label>
                <select th:field="*{categoryId}"
                        class="w-full mt-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none">
                    <option value="">選択してください</option>
                    <option th:each="c : ${categories}" th:value="${c.id}"
                            th:text="${c.name}"></option>
                </select>

                <p class="text-red-500 text-sm" th:if="${#fields.hasErrors('categoryId')}" th:errors="*{categoryId}"></p>
            </div>

            <!-- 本文 -->
            <div>
                <label class="font-semibold text-gray-700">本文</label>
                <textarea th:field="*{content}" rows="10"
                          class="w-full mt-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"
                          placeholder="本文を入力してください（Markdown も対応できます）"></textarea>

                <p class="text-red-500 text-sm" th:if="${#fields.hasErrors('content')}" th:errors="*{content}"></p>
            </div>

            <!-- 画像アップロード -->
			<div class="mb-4">
			    <label class="block font-semibold mb-1">サムネイル画像</label>
			    <input type="file"
			           name="imageFile"
			           accept="image/*"
			           class="w-full border px-3 py-2 rounded-lg">
			</div>

            <!-- 公開設定 -->
            <div class="flex items-center mt-4">
                <input type="checkbox" th:field="*{published}"
                       class="w-5 h-5 text-blue-600 rounded focus:ring-blue-500">
                <label class="ml-2 text-gray-700">公開する</label>
            </div>

            <!-- ボタン -->
            <div class="pt-4">
                <button
                    type="submit"
                    class="w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition">
                    保存する
                </button>
            </div>
        </form>
    </div>
</div>

</body>
</html>
