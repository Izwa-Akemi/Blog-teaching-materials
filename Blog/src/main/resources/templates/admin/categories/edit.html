<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8" />
    <title>カテゴリー編集</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 min-h-screen">

<!-- ヘッダー -->
<!-- 共通ヘッダー -->
	<div th:replace="admin/layout/header :: adminHeader(${currentUser})"></div>

<main class="max-w-4xl mx-auto px-4">

    <div class="bg-white shadow rounded-xl p-8">

        <!-- エラー全体 -->
        <div th:if="${error}" class="mb-4 p-3 bg-red-100 text-red-700 rounded">
            <span th:text="${error}"></span>
        </div>

        <form th:action="@{/admin/categories/edit}" th:object="${categoryForm}" method="post" class="space-y-6">

       
            <!-- ID（非表示） -->
            <input type="hidden" th:field="*{id}" />

            <!-- カテゴリー名 -->
            <div>
                <label class="block mb-1 font-semibold text-gray-700">カテゴリー名</label>
                <input type="text" th:field="*{name}"
                       placeholder="例: お知らせ, Java講座, イベント情報"
                       class="w-full border border-gray-300 rounded-lg px-4 py-2
                              focus:ring-2 focus:ring-blue-500 focus:outline-none" />

                <p th:if="${#fields.hasErrors('name')}"
                   th:errors="*{name}"
                   class="text-red-500 text-sm mt-1"></p>
            </div>

            <!-- スラッグ -->
            <div>
                <label class="block mb-1 font-semibold text-gray-700">スラッグ</label>
                <input type="text" th:field="*{slug}"
                       placeholder="例: news, java, event"
                       class="w-full border border-gray-300 rounded-lg px-4 py-2
                              focus:ring-2 focus:ring-blue-500 focus:outline-none" />

                <p class="text-xs text-gray-500 mt-1">
                    ※ URL に使用する英数字（例: <span class="font-mono">/category/java</span>）
                </p>

                <p th:if="${#fields.hasErrors('slug')}"
                   th:errors="*{slug}"
                   class="text-red-500 text-sm mt-1"></p>
            </div>

            <!-- 更新ボタン -->
            <div>
                <button type="submit"
                        class="w-full bg-blue-600 text-white py-3 rounded-lg text-lg font-semibold
                               hover:bg-blue-700 transition">
                    更新する
                </button>
            </div>
        </form>

    </div>

</main>

</body>
</html>
